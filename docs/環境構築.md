# バージョン選定基準

## Docker環境での推奨プラクティス
Docker/Docker Composeを使用する場合、以下のコンポーネントすべてのバージョンを固定する（再現可能なビルドを確保するため）

- ベースイメージ（Ruby等）
- ミドルウェア（PostgreSQL、Redis等）
- 主要なパッケージ（Node.js等）

## gemなどのverについて
- セキュリティアップデートの為、railsなどgemは完全固定でなく幅を持たせている
  （本番環境ではGemfile.lockを使用し、そこで固定化される為問題ない）

## 選定方針についいて
- メジャーバージョンは安定版を選ぶ
- 安定版の中でも最新版は避ける（一つか二つ前）
- 最新のマイナーバージョンを選ぶ

## Ruby
- **Ruby 3.2.7-slim**
  - 安定版のスリムイメージを採用
  - gem・ライブラリとの互換性を考慮し、最新安定版の2つ前を選定
  - マイナーバージョンは最新を使用

## Node.js
- **Node.js v20.19.0**
  - メンテナンスフェーズにある最新バージョン
  - Node.js 22が最近LTSに移行したばかりのため、安定性を重視して20系を選択
  - マイナーバージョンは最新を使用

## PostgreSQL
- **PostgreSQL 15.12**
  - データベースの依存関係の問題は影響が大きいため、安定性を重視
  - 2世代前の15系を選択
  - マイナーバージョンは最新を使用

## フレームワーク
- **Rails 7.1.5.1**
  - 最新バージョンの2つ前を選択
  - マイナーバージョンは最新を使用