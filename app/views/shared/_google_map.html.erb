<div class="row">
  <div class="col-md-8">
    <div class="card" style="height: auto; min-height: 300px;">
      <div class="card-body" style="height: 100%; padding: 0;">
        <% if defined?(@shop) && @shop.present? && @shop.latitude.present? && @shop.longitude.present? %>
          <div data-controller="maps"
              data-maps-latitude-value="<%= @shop.latitude %>"
              data-maps-longitude-value="<%= @shop.longitude %>"
              data-maps-shop-name-value="<%= @shop.name %>">
            <div style="position: relative;">  <!-- 相対位置の親コンテナ -->
              <div data-maps-target="map" id="map"></div>
              <div data-maps-target="loading" class="loading-indicator" style="display: none;">
                <div class="loading-spinner spinner-border spinner-border-sm text-light" role="status">
                  <span class="visually-hidden">検索中...</span>
                </div>
                <span class="ms-2">検索中...</span>
              </div>
            </div>
          </div>
        <% else %>
          <div data-controller="maps">
            <div style="position: relative;">  <!-- 相対位置の親コンテナ -->
              <div data-maps-target="map" id="map"></div>
              <div data-maps-target="loading" class="loading-indicator" style="display: none;">
                <div class="loading-spinner spinner-border spinner-border-sm text-light" role="status">
                  <span class="visually-hidden">検索中...</span>
                </div>
                <span class="ms-2">検索中...</span>
              </div>
            </div>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>