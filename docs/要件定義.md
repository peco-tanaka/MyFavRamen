# MyFavらぁめん 要件定義書

## 1. プロジェクト概要

### 開発する製品/サービスの目的
「MyFavらぁめん」は、ラーメン愛好家が自分だけのラーメンランキング（"俺ランク"）を作成・共有できるWebアプリケーションです。自分だけのラーメンランキングを作り上げる体験を通して、ゆるくポジティブなラーメン愛好家コミュニティの形成を目指します。

### 解決しようとしている問題
- ラーメン愛好家が自分の食べた記録を簡単に管理・共有する専用プラットフォームの不足
- 既存の飲食店レビューサイトでは「お店への評価」が中心で、個人の好みに基づいたランキングを表現しづらい
- 星評価やコメントによる批判的な内容が店舗・ユーザー双方にとって負担になる問題

### 主なターゲットユーザー
- ラーメン愛好家（10代〜40代）
- 自分のお気に入りのラーメンを整理したい人
- 食べ歩きを趣味とする人
- SNSで食体験を共有したい人

## 2. 機能要件

### 核となる主要機能（MVP）

#### 1. ユーザー認証機能【必須】
- ユーザー登録（メールアドレス、パスワード）
- ログイン/ログアウト機能
- パスワードリセット機能

#### 2. 店舗登録・検索機能【必須】
- Google Maps APIを使用した店舗検索
- 店舗基本情報（店名、住所、営業時間）の表示
- 店舗の手動登録機能（既存データにない場合）

#### 3. ランキング機能【必須】
- 訪問したラーメン店のランキング作成
- ドラッグ＆ドロップによる順位変更
- 総合・醤油・豚骨・味噌などジャンル別ランキング作成
- トップ3、トップ10など区切りでの表示
- トップ3ラーメンへの一言コメント機能

#### 4. 訪問記録機能【必須】
- 店舗訪問日の記録

#### 5. プロフィール機能【必須】
- 基本情報（ニックネーム、アイコン、自己紹介）の設定
- 訪問店舗数のカウント表示
- ランキングの公開/非公開設定
- 好みのラーメンタイプ登録

#### 6. フォロー機能【あると良い】
- 他ユーザーのフォロー/フォロワー機能
- フォローユーザーのランキング閲覧
- フォローユーザーのランキング更新通知

#### 7. 検索・閲覧機能【あると良い】
- ユーザー検索機能
- おすすめユーザー表示
- 地域別人気ラーメン店ランキング集計

#### 8. UI/UXの実装【必須】
- モバイルファーストのレスポンシブデザイン
- 直感的な操作性
- ランキング表示の視覚的魅力の向上

### 機能の優先順位

**必須（MVP）**
1. ユーザー認証機能
2. 店舗登録・検索機能
3. 個人ランキング機能（基本版）
4. シンプルなプロフィール機能
5. TOP3ラーメンへのコメント機能
6. ラーメンの写真アップロード機能
7. お気に入り店舗機能

**あると良い**
1. 基本的なユーザーフォロー機能
3. ジャンル別ランキング

**将来的に追加**
1. googleアカウントを利用したログイン機能
2. 詳細な店舗情報表示
3. 店舗の訪問回数で称号などの付与
4. 広告収入による収益化戦略
5. 高度なSNS機能（通知など）
6. モバイルアプリ版の開発
7. アクティビティフィード
8. 複雑なUI/UXの改善

## 3. 非機能要件

### パフォーマンス要件
- ページ読み込み時間: 3秒以内
- 同時接続ユーザー数: 初期は100人程度を想定
- 画像表示の最適化: 画像サイズの自動調整によるロード時間短縮
- レスポンス時間: ランキング更新などのアクションは1秒以内に反応

### セキュリティ要件
- ユーザー認証: Deviseを使用した安全なログイン機能
- パスワード管理: ハッシュ化して保存
- CSRF対策の実装
- 画像アップロードのセキュリティ対策
- 個人情報保護のためのプライバシー設定

### 使いやすさ（UI/UX）
- モバイルファーストのデザイン
- ドラッグ＆ドロップによる直感的なランキング操作
- シンプルな操作フローの設計
- 少ないクリック数で目的の操作が完了するUI
- 視覚的に魅力的なランキング表示

### 信頼性
- サービスの稼働率: 99.5%以上
- データのバックアップ: 日次
- エラー発生時の適切なユーザー通知

### 拡張性
- 将来的な機能追加に対応できる設計
- 他の食ジャンルへの拡張を考慮したデータモデル
- ユーザー数増加に対応できるスケーラブルな構造

## 4. 技術スタックと構成図

### 使用する言語、フレームワーク、ライブラリ
- **フロントエンド**: HTML, CSS, JavaScript
- **バックエンド**: Ruby on Rails
- **データベース**: PostgreSQL
- **CSS フレームワーク**: Bootstrap（レスポンシブデザイン対応）
- **JavaScript ライブラリ**: SortableJS（ドラッグ＆ドロップ機能）
- **画像アップロード**: Active Storage（Gem）
- **認証**: Devise（Gem）
- **外部API**: Google Maps API, Google Identity Services API

### システム構成図
```
[クライアント] <---> [Webサーバー (Rails)] <---> [データベース (PostgreSQL)]
                      |                           |
                      v                           v
            [Google Maps API]            [画像ストレージ (S3)]
```

### インフラ環境
- **初期デプロイ環境**: Render
- **本番環境（予定）**: ConoHa VPS または AWS
- **開発環境**: Docker
- **画像ストレージ**: AWS S3
- **バージョン管理**: Git, GitHub

### データベース設計（主要テーブル）
- Users（ユーザー情報）
- Shops（店舗情報）
- Rankings（ランキング情報）
- Visits（訪問記録）
- Comments（コメント）
- Follows（フォロー関係）
- Favs（お気に入り情報）


## 5. 制約条件

### 予算制限
- 初期開発コスト: 個人開発のため最小限
- ランニングコスト目標: 月3,000円以内
- 外部サービス利用: Google Maps API（無料枠内での利用）、AWS S3（最小プラン）

### 時間的制約
- 開発期間: 1ヶ月（4週間）
- マイルストーン:
  - Week 1: 基本設計と環境構築
  - Week 2: コア機能の実装
  - Week 3: UI/UX開発と追加機能実装
  - Week 4: テスト、バグ修正、初期デプロイ

### 技術的制約
- 一人開発による工数の限界
- Google Maps API連携の複雑さ
- モバイル対応デザインの実装
- 画像アップロード・管理の最適化

## 6. 成功指標

### プロジェクト完了の判断基準
- MVP機能の実装完了
- 基本的なUI/UXの実装完了
- 主要ユースケースのテスト完了
- Renderへの初期デプロイ完了

### 評価方法
- 必須機能の動作確認テスト
- モバイル/デスクトップ両方での表示・操作確認
- セキュリティチェック
- パフォーマンス測定（ページ読み込み時間など）
- 初期ユーザーからのフィードバック収集

## 7. スコープ外

以下の機能や範囲は今回のプロジェクトでは実装しない:

- ネイティブモバイルアプリ版の開発
- 店舗側の管理機能・連携機能
- 多言語対応
- 複雑な分析機能やダッシュボード
- API公開
- 決済機能
- ポイントやリワード機能
- リアルタイムチャット機能
- 高度な検索アルゴリズム

## 8. リスク分析と対策

### 技術的リスク
1. **Google Maps API連携の複雑さ**
   - 対策: チュートリアルや既存のGemを活用し、段階的に機能実装
   - 最初はシンプルな連携から始め、徐々に機能を拡張

2. **ドラッグ＆ドロップ機能の実装難易度**
   - 対策: SortableJSなどの既存ライブラリを活用
   - 必要に応じて代替手段（上下ボタンでの並べ替えなど）も用意

3. **レスポンシブデザインの実装難易度**
   - 対策: Bootstrapなどのフレームワークを活用
   - 最初から少数の画面サイズに絞って開発

### スケジュールリスク
1. **開発期間の制約**
   - 対策: MVPを明確にし、優先度の高い機能に集中
   - 機能のフェーズ分けを行い、必要に応じて後続フェーズに移行

2. **予期せぬ技術的困難**
   - 対策: 週ごとのバッファ時間の確保
   - 技術調査を事前に行い、リスクの高い部分を早期に検証

### ユーザー獲得リスク
1. **初期ユーザー獲得の難しさ**
   - 対策: 個人のSNSを活用した宣伝
   - ラーメン愛好家コミュニティへのアプローチ

## 9. 将来的な拡張性

### 機能拡張の可能性
1. **他の食ジャンルへの展開**
   - 「MyFavカレー」「MyFav寿司」など他ジャンルへのサービス拡大

2. **詳細なデータ分析機能**
   - 自分の食の傾向分析、好みの味の傾向などの可視化

3. **収益化モデルの導入**
   - ラーメン関連商品やサービスのターゲティング広告
   - 店舗連携プログラムやクーポン提供